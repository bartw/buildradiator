define("app",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.App=function(){function t(){e(this,t)}return t.prototype.configureRouter=function(t,e){this.router=e,t.title="Teamcity radiator",t.map([{route:":baseUrl",name:"Build Overview",moduleId:"build-overview"}])},t}()}),define("build-overview",["exports","services/build-service","aurelia-framework"],function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t){var e=this;this.service.getAllFailedBuilds(t.baseUrl).then(function(t){e.builds=t})}Object.defineProperty(t,"__esModule",{value:!0}),t.BuildOverview=void 0;var u,r;t.BuildOverview=(u=(0,i.inject)(e.BuildService),u(r=function(){function t(e){n(this,t),this.service=e}return t.prototype.activate=function(t){s.bind(this)(t),setInterval(s.bind(this),3e4,t)},t}())||r)}),define("environment",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!0,testing:!1}}),define("main",["exports","./environment"],function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){t.use.standardConfiguration().feature("resources"),s.default.debug&&t.use.developmentLogging(),s.default.testing&&t.use.plugin("aurelia-testing"),t.start().then(function(){return t.setRoot()})}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=n;var s=i(e);Promise.config({warnings:{wForgottenReturn:!1}})}),define("resources/index",["exports"],function(t){"use strict";function e(t){}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=e}),define("services/build-service",["exports","./http-client-router","aurelia-framework"],function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.BuildService=void 0;var s,u;t.BuildService=(s=(0,i.inject)(e.HttpClientRouter),s(u=function(){function t(e){n(this,t),this.clientRouter=e}return t.prototype.getAllFailedBuilds=function(t){var e="http://"+t+"/guestAuth/app/rest/buildTypes?locator=affectedProject:(id:_Root)&fields=buildType(id,name,builds($locator(running:false,canceled:false,count:1),build(number,status,statusText)))",i={method:"GET",headers:new Headers({Accept:"application/json","X-Requested-With":"Fetch"})};return this.clientRouter.fetch(e,i).then(function(t){return t.json()}).then(function(t){return t.buildType.filter(function(t){return t.builds.build.length>0}).map(function(t){return{name:t.name,status:t.builds.build[0].status,statusText:t.builds.build[0].statusText}}).filter(function(t){return"FAILURE"===t.status})})},t}())||u)}),define("services/http-client-router",["exports","aurelia-fetch-client","./teamcitystub/team-city-http-client-stub","aurelia-framework"],function(t,e,i,n){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClientRouter=void 0;var u,r;t.HttpClientRouter=(u=(0,n.inject)(e.HttpClient,i.TeamCityHttpClientStub),u(r=function(){function t(e,i){s(this,t),this.realHttpClient=e,this.teamCityHttpClientStub=i}return t.prototype.fetch=function(t,e){return t.includes("stub")?this.teamCityHttpClientStub.fetch():this.realHttpClient.fetch(t,e)},t}())||r)}),define("services/teamcitystub/team-city-builds-response",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={buildType:[{name:"build 1",builds:{build:[{status:"SUCCESS",statusText:"Tests passed: 198, ignored: 9"}]}},{name:"build 2",builds:{build:[{status:"SUCCESS",statusText:"Tests passed: 2391, ignored: 6"}]}},{name:"build 3",builds:{build:[{status:"SUCCESS",statusText:"Tests passed: 35"}]}},{name:"build 4",builds:{build:[{status:"SUCCESS",statusText:"Tests passed: 35"}]}},{name:"build 5",builds:{build:[{status:"FAILURE",statusText:"Tests failed: 4 (1 new), passed: 31"}]}},{name:"build 6",builds:{build:[{status:"FAILURE",statusText:"Tests failed: 2, passed: 33; snapshot dependency failed: Main :: Data Quality Tests :: build 6"}]}},{name:"build 7",builds:{build:[{status:"FAILURE",statusText:"Tests failed: 3, passed: 32; snapshot dependency failed: Main :: Data Quality Tests :: build 7"}]}},{name:"build 8",builds:{build:[{status:"FAILURE",statusText:"Tests failed: 8 (1 new), passed: 27; snapshot dependency failed: Main :: Data Quality Tests :: build 8"}]}},{name:"build 9",builds:{build:[{status:"FAILURE",statusText:"Tests failed: 13, passed: 22; snapshot dependency failed: Main :: Data Quality Tests :: build 9"}]}},{name:"build 10",builds:{build:[{status:"FAILURE",statusText:"Tests failed: 10, passed: 25"}]}}]}}),define("services/teamcitystub/team-city-http-client-stub",["exports","./team-city-builds-response"],function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.TeamCityHttpClientStub=void 0;var s=i(e);t.TeamCityHttpClientStub=function(){function t(){n(this,t)}return t.prototype.fetch=function(){return Promise.resolve({json:function(){return s.default}})},t}()}),define("text!app.html",["module"],function(t){t.exports='<template>\r\n  <require from="css/custom.css"></require>\r\n  <router-view></router-view>\r\n</template>'}),define("text!css/custom.css",["module"],function(t){t.exports="\r\n\r\n"}),define("text!build-overview.html",["module"],function(t){t.exports='<template>\r\n\t<div class="container">\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-md-4 text-center" repeat.for="build of builds">\r\n\t\t\t\t<div class="alert alert-danger" role="alert">\r\n\t\t\t\t\t<h1>${build.name}</h1>\r\n\t\t\t\t\t<p>${build.statusText}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>'});
//# sourceMappingURL=app-bundle.js.map